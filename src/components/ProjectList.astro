---
import { getCollection } from 'astro:content';
import { Debug } from 'astro:components';

const projects = (await getCollection('projects'))
	.sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
	.slice(0, 4);

import ProjectItem from './ProjectItem.astro';
---

<div id="projects" class="w-full z-10 grid py-vw-8 gap-y-vw-4">
	{projects.map((p) => <ProjectItem slug={p.slug} />)}
</div>
